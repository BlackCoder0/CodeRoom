<!DOCTYPE html>
<html lang="en">

<head>
    <script src="./js/animechara.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PVZ WIKI/玩法介绍</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('杂图/网站背景图3.jpg');
            background-size: cover;

        }

        /* 导航栏 */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0.99), rgba(77, 156, 84, 0.9));
            padding: 10px 0;
            /* 仅顶部和底部内边距 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar img {
            height: 50px;
            margin-left: 20px;
            cursor: pointer;
        }

        .navbar .nav-links a {
            background-image: url('杂图/按钮.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-right: 15px;
            /* 根据按钮图片大小和设计需求调整间隔 */
            padding: 8px 20px;
            /* 根据按钮图片大小和间隔需求调整内边距 */
        }

        .navbar a {
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .navbar a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* 主要内容区域顶部预留空间 */
        .main-content {
            padding-block-start: 80px;
        }

        .navbar.fixed-top {
            position: fixed;
            /* 设置固定定位 */
            top: 0;
            /* 将导航栏固定在页面顶部 */
            z-index: 1000;
            /* 确保导航栏位于最顶层 */
        }

        body.fixed-nav {
            padding-top: 80px;
            /* 添加与导航栏高度相同的顶部内边距 */
        }

        /*看板娘用css 本功能来自公主连结BWIKI*/
        .animechara {
            display: block;
            width: 130px;
            height: -200px;
            position: fixed;
            bottom: 0px;
            left: 0px;
            z-index: 9999;
        }

        #message {
            position: absolute;
            border-radius: 6px;
            box-shadow: 0 0 1px #eeeeee;
            border: 1px;
            border-color: white;
            background: rgba(255, 255, 255, 0.9);
            width: auto !important;
            color: #191919;
            outline: none;
            text-align: center;
            font-size: 15px;
            font-weight: bold;
            padding: 5px;
            line-height: 170%;
            min-height: 1em;
            text-align: left;
            z-index: 10000;
            bottom: 100%;
        }

        #message::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: rgba(255, 170, 170, 0.555) transparent transparent transparent;
        }

        /*看板娘相关*/
        .chara {
            inline-size: 300px;
            block-size: 300px;
            background: url("杂图/戴夫1看板娘.gif") no-repeat;
            background-size: contain;
            position: relative;
        }

        /*音乐播放器样式*/
        #musicPlayer {
            position: fixed;
            /* 固定定位 */
            top: 50%;
            /* 垂直居中 */
            left: 92%;
            /* 水平居中 */
            transform: translate(-50%, -50%);
            /* 进一步居中对齐 */
            background-color: rgba(34, 122, 51, 0.9);
            /* 背景颜色 */
            padding: 20px;
            /* 内边距 */
            border-radius: 10px;
            /* 圆角边框 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            /* 阴影效果 */
            z-index: 1000;
            /* 确保播放器位于最前 */
            text-align: center;
        }

        #musicPlayer select,
        #musicPlayer button {
            margin: 10px 5px;
            /* 控件之间的间隔 */
            padding: 10px;
            /* 内边距 */
            border-radius: 5px;
            /* 圆角边框 */
            border: none;
            /* 移除默认边框 */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            /* 控件阴影 */
            font-size: 16px;
            /* 字体大小 */
        }

        #musicPlayer select {
            background-color: #fff;
            /* 背景颜色 */
            color: #227a33;
            /* 字体颜色 */
        }

        #musicPlayer button {
            background-color: #227a33;
            /* 按钮背景颜色 */
            color: #fff;
            /* 按钮字体颜色 */
            cursor: pointer;
            /* 鼠标悬停时显示指针 */
        }

        #musicPlayer button:hover {
            background-color: #1e6930;
            /* 按钮悬停时背景颜色 */
        }




        .main-container {
            display: flex;
            flex-direction: column;
            /* 将 Flexbox 方向设置为垂直方向 */
            width: 100%;
            border: 2px solid #227a33;
            border-radius: 10px;
            overflow: hidden;
        }

        .split-container {
            display: flex;
            /* 使用Flexbox布局 */
            flex-direction: row;
            /* 子元素水平排列 */
            width: 100%;
            /* 父容器宽度为100% */
        }

        .left-container,
        .right-container {
            flex: 1;
            /* 两个子元素平分空间 */
            padding: 1em;
            /* 其他样式保持不变 */
        }

        .overlay {
            width: 80%;
            position: relative;
            top: 10%;
            /* 距离页面顶部 10% */
            bottom: 10%;
            /* 距离页面底部 10% */
            left: 10%;
            /* 距离页面左侧 10% */
            background-image: linear-gradient(to right, #111a1b00, #111a1b00);
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            color: white;
            min-height: 100vh;
        }

        .custom-section {
            /* 设置自定义区域的样式 */
            background-color: #227a33;
            /* 设置颜色 */
            padding: 20px;
            /* 设置内边距 */
            position: relative;
            /* 设置定位 */
            margin-bottom: 20px;
            /* 设置下边距 */
        }

        .custom-section h2 {
            color: #fff;
            /* 设置标题颜色 */
            text-align: center;
            /* 标题居中 */
        }

        .custom-section img {
            /* 设置图片样式 */
            max-width: 100%;
            /* 图片宽度最大为父元素宽度 */
            display: block;
            /* 水平居中显示 */
            margin: 0 auto 10px;
            /* 水平居中显示，底边距为10px */
        }

        .content-header {
            background-color: #227a33;
            padding: 1em;
            color: white;
            text-align: center;
        }

        .content-area {
            background-color: #103220;
            padding: 2em;
            color: white;
            min-height: 300px;
            text-align: center;
        }

        .content-area p {
            margin: 0 0 1em 0;
        }

        .content-area img {
            display: flex;
            margin-top: 1em;
            max-width: 100%;
            height: auto;
        }

        .JieShao-area {
            background-color: #284835;
            padding: 2em;
            color: dda110;
            min-height: 300px;
            text-align: left;
        }

        /* 设置图片容器的宽度和高度 */
        /* 设置图片容器的宽度和高度，可以根据需要调整 */
        .img-container {
            width: 100px;
            /* 图片容器的固定宽度 */
            height: 100px;
            /* 图片容器的固定高度，保持宽高比 */
            margin-bottom: 10px;
            /* 图片容器之间的间隔 */
        }

        /* 图片样式，使其填满容器但不变形 */
        .img-fluid {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* 保持图片宽高比，裁剪超出部分 */
            border-radius: 4px;
            /* 可以为图片添加圆角 */
        }

        .plant-gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            /* 使元素在容器中居中对齐 */
            gap: 1em;
            /* 元素之间的间隔 */
        }

        .plant-link {
            display: inline-block;
            width: 80px;
            height: 80px;
            position: relative;
        }

        .plant-avatar {
            width: 80px;
            /* 容器的固定宽度 */
            height: 80px;
            /* 容器的固定高度 */
            margin: 10px;
            /* 容器之间的间隔 */
            position: relative;
            /* 为背景图片设置定位 */
            background-size: cover;
            background-position: center;
            border-radius: 15%;
            /* 根据需要设置圆角 */
            overflow: hidden;
            /* 隐藏超出容器部分的图片 */
        }

        /* 设置植物图片的样式 */
        .plant-avatar img {
            width: 100px;
            /* 图片宽度占满容器宽度 */
            height: auto;
            /* 图片高度占满容器高度 */
            object-fit: contain;
            /* 保持图片宽高比，图片完整显示在容器内 */
            border-radius: 0%;
            /* 根据需要设置圆角 */
        }

        .plant-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .plant-avatar:hover img {
            opacity: 0.8;
        }

        /* 确保整个页面有最小高度，以便 footer 位于底部 */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        /* 确保内容区域的最小高度 */
        .content {
            min-height: calc(100vh - 40px);
            /* 调整这里的 40px 到你的 footer 高度 */
            /* 其他样式保持不变 */
        }

        /* Footer 样式 */
        .footer {
            position: relative;
            /* 修改为 relative 定位 */
            margin-top: auto;
            /* 将 footer 推至页面底部 */
            width: 100%;
            background-color: black;
            color: white;
            text-align: center;
            padding: 10px 0;
            font-size: 14px;
            /* z-index 可以移除，因为不再需要覆盖其他内容 */
        }
    </style>

    <!-- 引入 Bootstrap CSS 文件 -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="content">
        <div class="navbar">
            <a href="index.html"><img src="杂图/PvZ_Logo.jpg" alt="Logo"></a>

            <div class="nav-links">
                <a href="index.html#section1">介绍</a>
                <a href="玩法介绍.html">玩法</a>
                <a href="index.html#section2">植物</a>
                <a href="index.html#section3">僵尸</a>
                <a href="index.html#section4">试玩</a>
                <a href="index.html#section5">音乐</a>
            </div>
        </div>
        <div class="animechara">
            <div class="message" id="message"></div>
            <div class="chara"></div>
        </div>

        <div class="overlay" id="overlay">






            <div style="max-inline-size:1200px;margin:30px auto;padding: 15px;line-height:1.7;">

                <!--头部-->
                <div id="header">
                    <div style="max-inline-size:200px;block-size:auto;margin:auto;">
                        <div class="cont">
                            <div class="logo">
                                <a href="#">
                                    <h1 style="font-size: 50px; font-weight: bold;">玩法介绍 </h1>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!--游戏玩法-->
                <div id="jianjie">
                    <div class="cont">
                        <div class="pic">
                            <div style="max-inline-size: 100%; block-size: auto;">
                                <span></span><img src="杂图/头图片.png" style="width: 310px; height: 250px;" />
                            </div>
                        </div>
                        <div class="text">
                            <h1><b>游戏玩法</b></h1>
                            <p style="font-size:17px;">
                                在植物大战僵尸中，玩家需要放置不同类型的植物或真菌，利用他们独特的攻击、防御性质，来阻止成群僵尸进入玩家的房子。游戏场地分为五至六条横向路线，一般来说，僵尸会沿着其中一条道路行进。放置植物或真菌需要花费阳光，而阳光会在日间关卡慢慢掉落，玩家也可以通过种植特定植物生产更多阳光。
                            </p>

                        </div>
                    </div>
                </div>
                <!--中间内容-->
                <div id="content">
                    <div class="cont">
                        <div class="cont_left">
                            <h2><b>游戏模式介绍</b></h2>
                            <p>植物大战僵尸主要有五种游戏模式，分别为冒险模式、小游戏、解谜模式、生存模式、禅境花园。</p>
                            <p>冒险模式中有五部分，每一部分有十个关卡。冒险模式是本游戏的第一个模式，其他模式都需要通过游玩冒险模式解锁。</p>
                            <p>小游戏在冒险模式中解锁，主要是为了好玩。一些小游戏的灵感来自早期的宝开游戏。</p>
                            <p>解谜模式由来自2种不同“模式”的18个关卡组成，砸花瓶需要你打破包含植物或僵尸或一些阳光（可用于樱桃炸弹）的花瓶，而我是僵尸则让你用僵尸来进攻用纸板做的植物并吃掉脑子。</p>
                            <p>生存模式是植物大战僵尸中的第二大游戏模式。其中涉及困难和普通两个难度，并且具有不同的特点。每个普通关卡有5面旗帜，每个困难关卡有10面旗帜。其中还有一个无尽的关卡作为最终关卡。生存模式是游戏本身的最后一个游戏模式。
                            </p>
                            <p>游戏还设有禅境花园，玩家可以在这里照看他们之前从疯狂戴夫的商店购买的植物。玩家还可以为不同的植物购买其他禅境花园区域。肥料、水和杀虫剂是植物生长所必需的。只有当游戏运行足够的时间时，植物才会生长。
                            </p>
                            <p>玩家进入游戏第一个接触到的游戏模式是冒险模式。一开始，僵尸们从前院开始入侵玩家的房子（主要是普通僵尸和交通锥僵尸）。玩家需要使用具有一定能力的植物来对抗僵尸们，比如豌豆射手、向日葵和坚果墙。在每个关卡之后，玩家都会获得一个
                                新植物。在第四次击溃僵尸的入侵之后，疯狂戴夫会出现并向玩家作自我介绍，并开始坚果保龄球的游戏。胜利之后，会出现新僵尸，并在之后每两个关卡就会（不包括奖励关卡）就会出现另一个新僵尸。在又出现了一个新的僵尸并获的了8个植物之后，僵尸大军会进行了一次“全力进攻”，以使玩家的植物不堪重负。在失去了大量的僵尸之后，他们将会撤退并且谋划着下一次的进攻。
                            </p>
                        </div>
                        <div class="cont_right">
                            <h2>模式玩法例图</h2>
                            <a href="#"><img src="杂图/游戏例图1.png" /></a>
                            <a href="#"><img src="杂图/游戏例图2.jpg" /></a>
                            <a href="#"><img src="杂图/游戏例图3.jpg" /></a>
                        </div>
                    </div>
                </div>
                <!--底部-->
                <div id="footer">
                    <p> Plants vs. Zombies </p>
                </div>
            </div>
        </div>

        <!-- 左侧音乐列表和控制按钮 -->
        <div id="musicPlayer">
            <select id="musicSelect">
                <option value="音乐/Laura Shigihara - Choose Your Seeds.mp3" selected>Choose Your Seeds</option>
                <option value="音乐/Laura Shigihara - Crazy Dave (In-Game).mp3">Crazy Dave (In-Game)</option>
                <option value="音乐/Laura Shigihara - Grasswalk.mp3">Grasswalk</option>
                <!-- 添加更多音乐选项 -->
            </select>
            <button id="playPauseButton">播放</button>
        </div>


    </div>

    </div>

    <audio id="backgroundMusic" loop></audio>
    <!-- 控制按钮 -->
    <script src="./js/jquery.js"></script>
    <script src="./js/musicController.js"></script>
    <script>
        // 计算长条区域的高度
        function calculateOverlayHeight() {
            var overlay = document.getElementById('overlay');
            overlay.style.height = (window.innerHeight - overlay.offsetTop * 2) + 'px';
        }

        // 页面加载时计算一次高度
        calculateOverlayHeight();

        // 窗口大小变化时重新计算高度
        window.addEventListener('resize', calculateOverlayHeight);

        $(document).ready(function () {
            $(".chara").on("click", function () {
                randchat();
            });

            // 随机显示消息
            function randchat() {
                var i = Math.floor(Math.random() * n_msgs.length);
                showMessage(n_msgs[i]);
            }

            // 显示消息函数
            function showMessage(msg) {
                $("#message").html(msg).fadeIn().fadeOut(8000);
            }
        });
        // 在页面加载完毕后执行以下代码
        window.addEventListener('load', function () {
            // 获取导航栏元素
            var navbar = document.querySelector('.navbar');
            // 获取导航栏的高度
            var navbarHeight = navbar.offsetHeight;
            // 将页面滚动至顶部，并确保顶部内边距生效
            window.scrollTo(0, 0);
            // 监听页面滚动事件
            window.addEventListener('scroll', function () {
                // 如果页面滚动的垂直距离大于等于导航栏元素的顶部位置
                if (window.scrollY >= navbar.offsetTop) {
                    // 添加一个固定样式类
                    navbar.classList.add('fixed-top');
                    // 在内容区域顶部添加与导航栏高度相同的内边距
                    document.body.style.paddingTop = navbarHeight + 'px';
                } else {
                    // 移除固定样式类
                    navbar.classList.remove('fixed-top');
                    // 恢复内容区域的顶部内边距为0
                    document.body.style.paddingTop = '0';
                }
            });
        });
        // 假设所有页面的文件名都存储在一个数组中，这里仅为示例
        const pages = [
            "豌豆射手", "向日葵", "樱桃炸弹", "坚果", "土豆地雷", "寒冰射手", "大嘴花", "双重射手", "小喷菇", "阳光菇", "大喷菇", "吞吞碑", "催眠菇", "胆小菇", "寒冰菇", "末日菇", "睡莲叶", "窝瓜", "三重射手", "水草", "火爆辣椒", "地刺", "火炬树桩", "高坚果", "水滨菇", "灯笼花", "仙人掌", "三叶草", "双向射手", "星星果", "南瓜", "磁铁菇", "卷心菜投手", "花盆", "玉米投手", "咖啡豆", "大蒜", "叶子保护伞", "金盏花", "西瓜投手", "机枪射手", "双头向日葵", "忧郁蘑菇", "猫尾草", "寒冰西瓜投手", "金磁铁", "钢地刺", "玉米大炮", "模仿者", "爆炸坚果", "巨型坚果墙", "", "", "僵尸", "旗帜僵尸", "路障僵尸", "撑杆跳僵尸", "铁桶僵尸", "报纸僵尸", "铁门僵尸", "橄榄球僵尸", "舞王僵尸", "伴舞僵尸", "救生圈僵尸", "潜水僵尸", "冰车僵尸", "僵尸雪橇小队", "海豚骑手僵尸", "小丑僵尸", "气球僵尸", "挖掘僵尸", "蹦蹦僵尸", "僵尸雪人", "蹦极僵尸", "梯子僵尸", "投石车僵尸", "巨人僵尸", "小鬼僵尸", "僵王博士", "万丈巨人僵尸", "玩法介绍"
        ];

        function searchFunction() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let resultsContainer = document.getElementById('searchResults');
            let resultsList = resultsContainer.querySelector('ul');

            if (!resultsList) {
                resultsList = document.createElement('ul');
                resultsContainer.appendChild(resultsList);
            }

            resultsList.innerHTML = ''; // 清空之前的结果

            // 过滤搜索结果
            let results = pages.filter(page => page.toLowerCase().includes(input));

            if (results.length === 0) {
                // 没有结果时添加提示信息
                let noResultItem = document.createElement('li');
                noResultItem.textContent = 'No results found';
                resultsList.appendChild(noResultItem);
            } else {
                // 有结果时添加链接
                results.forEach(result => {
                    let listItem = document.createElement('li');
                    let link = document.createElement('a');
                    link.href = result + '.html';
                    link.textContent = result;
                    listItem.appendChild(link);
                    resultsList.appendChild(listItem);
                });
            }

            // 根据是否有结果来显示或隐藏下拉列表
            if (results.length > 0 || input.length > 0) {
                resultsContainer.style.display = 'block';
            } else {
                resultsContainer.style.display = 'none';
            }

            // 确保下拉列表宽度与搜索框一致，并考虑内边距和边框
            const searchBar = document.getElementById('searchInput');
            resultsContainer.style.width = searchBar.clientWidth + 'px';
            // 监听整个文档的点击事件以隐藏下拉列表
            document.addEventListener('click', function (event) {
                let searchResults = document.getElementById('searchResults');
                if (searchResults && !searchResults.contains(event.target) && event.target.id !== 'searchInput') {
                    searchResults.style.display = 'none';
                }
            });
        }
    </script>
</body>

</html>